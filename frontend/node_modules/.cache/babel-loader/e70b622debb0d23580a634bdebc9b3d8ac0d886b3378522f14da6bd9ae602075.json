{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ducal\\\\OneDrive\\\\Documents\\\\Document_verifier_project\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport verifierAbi from \"./abi/DocumentVerifier.json\";\nimport registryAbi from \"./abi/IssuerRegistry.json\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VERIFIER_ADDRESS = \"0x610178dA211FEF7D417bC0e6FeD39F05609AD788\";\nconst REGISTRY_ADDRESS = \"0x8A791620dd6260079BF849Dc5567aDC3F2FdC318\";\nexport default function App() {\n  _s();\n  const [account, setAccount] = useState(\"\");\n  const [issuer, setIssuer] = useState({\n    name: \"\",\n    organization: \"\",\n    email: \"\"\n  });\n  const [issuersList, setIssuersList] = useState([]);\n  const [selectedIssuer, setSelectedIssuer] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [status, setStatus] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const getProvider = async () => {\n    const provider = new ethers.BrowserProvider(window.ethereum);\n    provider.getNetwork = async () => ({\n      name: \"hardhat\",\n      chainId: 31337,\n      ensAddress: null\n    });\n    return provider;\n  };\n\n  // Kết nối ví\n  async function connectWallet() {\n    if (!window.ethereum) return alert(\"⚠️ Cài MetaMask trước!\");\n    const provider = await getProvider();\n    const [addr] = await provider.send(\"eth_requestAccounts\", []);\n    setAccount(addr);\n  }\n\n  // Đăng ký issuer\n  async function registerIssuer() {\n    try {\n      setLoading(true);\n      const provider = await getProvider();\n      const signer = await provider.getSigner();\n      const registry = new ethers.Contract(REGISTRY_ADDRESS, registryAbi.abi, signer);\n      const tx = await registry.registerIssuer(issuer.name, issuer.organization, issuer.email);\n      setStatus(\"⏳ Đang gửi giao dịch đăng ký...\");\n      await tx.wait();\n      setStatus(\"✅ Đăng ký Issuer thành công!\");\n      await loadIssuers();\n    } catch (e) {\n      console.error(e);\n      setStatus(\"❌ Lỗi khi đăng ký Issuer.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Tải danh sách issuer\n  async function loadIssuers() {\n    try {\n      const provider = await getProvider();\n      const registry = new ethers.Contract(REGISTRY_ADDRESS, registryAbi.abi, provider);\n      const signer = await provider.getSigner();\n      const addr = await signer.getAddress();\n      const list = [];\n      // Hardhat mặc định chỉ có 20 account, nên ta giả định các Issuer đã đăng ký\n      for (let i = 0; i < 20; i++) {\n        const address = ethers.getAddress(\"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\".slice(0, -2) + i.toString(16).padStart(2, \"0\"));\n        try {\n          const [name, org, email] = await registry.getIssuer(address);\n          if (name) list.push({\n            address,\n            name,\n            org,\n            email\n          });\n        } catch {}\n      }\n      setIssuersList(list);\n    } catch (e) {\n      console.error(\"Load issuers error:\", e);\n    }\n  }\n  useEffect(() => {\n    loadIssuers();\n  }, []);\n\n  // Lưu hash (với issuer chọn)\n  async function storeHash() {\n    if (!file) return alert(\"Chưa chọn file!\");\n    if (!selectedIssuer) return alert(\"Chưa chọn Issuer!\");\n    try {\n      setLoading(true);\n      const buffer = await file.arrayBuffer();\n      const hash = ethers.sha256(new Uint8Array(buffer));\n      const provider = await getProvider();\n      const signer = await provider.getSigner();\n      const verifier = new ethers.Contract(VERIFIER_ADDRESS, verifierAbi.abi, signer);\n      const tx = await verifier.storeDocumentWithIssuer(hash, selectedIssuer);\n      setStatus(\"⏳ Đang lưu hash...\");\n      await tx.wait();\n      setStatus(\"✅ Lưu hash thành công!\");\n    } catch (e) {\n      console.error(e);\n      if (e.message.includes(\"Already stored\")) setStatus(\"⚠️ Hash đã tồn tại trên blockchain!\");else setStatus(\"❌ Lỗi khi lưu hash.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Xác minh file\n  async function verifyFile() {\n    if (!file) return alert(\"Chưa chọn file!\");\n    try {\n      setLoading(true);\n      const buffer = await file.arrayBuffer();\n      const hash = ethers.sha256(new Uint8Array(buffer));\n      const provider = await getProvider();\n      const verifier = new ethers.Contract(VERIFIER_ADDRESS, verifierAbi.abi, provider);\n      const [exists, issuerAddr, timestamp, name, org] = await verifier.verifyDocument(hash);\n      if (!exists) return setStatus(\"❌ File chưa được lưu trên blockchain.\");\n      setStatus(`✅ File hợp lệ!\\nIssuer: ${name} (${org})\\nAddress: ${issuerAddr}\\nTime: ${new Date(Number(timestamp) * 1000).toLocaleString()}`);\n    } catch (e) {\n      console.error(e);\n      setStatus(\"❌ Lỗi khi xác minh file.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Lọc danh sách Issuer theo từ khóa tìm kiếm\n  const filteredIssuers = issuersList.filter(i => i.name.toLowerCase().includes(search.toLowerCase()) || i.org.toLowerCase().includes(search.toLowerCase()) || i.email.toLowerCase().includes(search.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83E\\uDDFE Blockchain Document Verifier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: connectWallet,\n      className: \"connect-btn\",\n      children: account ? `✅ ${account.slice(0, 6)}...${account.slice(-4)}` : \"🔗 Kết nối MetaMask\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDFE2 \\u0110\\u0103ng k\\xFD Issuer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"T\\xEAn\",\n        onChange: e => setIssuer({\n          ...issuer,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"T\\u1ED5 ch\\u1EE9c\",\n        onChange: e => setIssuer({\n          ...issuer,\n          organization: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Email\",\n        onChange: e => setIssuer({\n          ...issuer,\n          email: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: registerIssuer,\n        disabled: loading,\n        children: \"\\uD83D\\uDCDD \\u0110\\u0103ng k\\xFD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCC1 X\\xE1c minh t\\xE0i li\\u1EC7u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: e => setFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"issuer-select\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uD83D\\uDD0D T\\xECm Issuer...\",\n          value: search,\n          onChange: e => setSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setSelectedIssuer(e.target.value),\n          value: selectedIssuer,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Ch\\u1ECDn Issuer --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), filteredIssuers.map((i, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: i.address,\n            children: [i.name, \" (\", i.org, \")\"]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: storeHash,\n        disabled: loading,\n        children: \"\\uD83D\\uDCE4 L\\u01B0u Hash\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: verifyFile,\n        disabled: loading,\n        children: \"\\uD83D\\uDD0D X\\xE1c minh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      className: \"status-box\",\n      children: status\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"bK38Ydn3tNdTMd16lID1GG4rUlE=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","ethers","verifierAbi","registryAbi","jsxDEV","_jsxDEV","VERIFIER_ADDRESS","REGISTRY_ADDRESS","App","_s","account","setAccount","issuer","setIssuer","name","organization","email","issuersList","setIssuersList","selectedIssuer","setSelectedIssuer","search","setSearch","file","setFile","status","setStatus","loading","setLoading","getProvider","provider","BrowserProvider","window","ethereum","getNetwork","chainId","ensAddress","connectWallet","alert","addr","send","registerIssuer","signer","getSigner","registry","Contract","abi","tx","wait","loadIssuers","e","console","error","getAddress","list","i","address","slice","toString","padStart","org","getIssuer","push","storeHash","buffer","arrayBuffer","hash","sha256","Uint8Array","verifier","storeDocumentWithIssuer","message","includes","verifyFile","exists","issuerAddr","timestamp","verifyDocument","Date","Number","toLocaleString","filteredIssuers","filter","toLowerCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","placeholder","onChange","target","value","disabled","type","files","map","idx","_c","$RefreshReg$"],"sources":["C:/Users/ducal/OneDrive/Documents/Document_verifier_project/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport verifierAbi from \"./abi/DocumentVerifier.json\";\nimport registryAbi from \"./abi/IssuerRegistry.json\";\nimport \"./App.css\";\n\nconst VERIFIER_ADDRESS = \"0x610178dA211FEF7D417bC0e6FeD39F05609AD788\";\nconst REGISTRY_ADDRESS = \"0x8A791620dd6260079BF849Dc5567aDC3F2FdC318\";\n\nexport default function App() {\n  const [account, setAccount] = useState(\"\");\n  const [issuer, setIssuer] = useState({ name: \"\", organization: \"\", email: \"\" });\n  const [issuersList, setIssuersList] = useState([]);\n  const [selectedIssuer, setSelectedIssuer] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [status, setStatus] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const getProvider = async () => {\n    const provider = new ethers.BrowserProvider(window.ethereum);\n    provider.getNetwork = async () => ({ name: \"hardhat\", chainId: 31337, ensAddress: null });\n    return provider;\n  };\n\n  // Kết nối ví\n  async function connectWallet() {\n    if (!window.ethereum) return alert(\"⚠️ Cài MetaMask trước!\");\n    const provider = await getProvider();\n    const [addr] = await provider.send(\"eth_requestAccounts\", []);\n    setAccount(addr);\n  }\n\n  // Đăng ký issuer\n  async function registerIssuer() {\n    try {\n      setLoading(true);\n      const provider = await getProvider();\n      const signer = await provider.getSigner();\n      const registry = new ethers.Contract(REGISTRY_ADDRESS, registryAbi.abi, signer);\n      const tx = await registry.registerIssuer(issuer.name, issuer.organization, issuer.email);\n      setStatus(\"⏳ Đang gửi giao dịch đăng ký...\");\n      await tx.wait();\n      setStatus(\"✅ Đăng ký Issuer thành công!\");\n      await loadIssuers();\n    } catch (e) {\n      console.error(e);\n      setStatus(\"❌ Lỗi khi đăng ký Issuer.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Tải danh sách issuer\n  async function loadIssuers() {\n    try {\n      const provider = await getProvider();\n      const registry = new ethers.Contract(REGISTRY_ADDRESS, registryAbi.abi, provider);\n      const signer = await provider.getSigner();\n      const addr = await signer.getAddress();\n\n      const list = [];\n      // Hardhat mặc định chỉ có 20 account, nên ta giả định các Issuer đã đăng ký\n      for (let i = 0; i < 20; i++) {\n        const address = ethers.getAddress(\n          \"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\".slice(0, -2) +\n            i.toString(16).padStart(2, \"0\")\n        );\n        try {\n          const [name, org, email] = await registry.getIssuer(address);\n          if (name) list.push({ address, name, org, email });\n        } catch {}\n      }\n      setIssuersList(list);\n    } catch (e) {\n      console.error(\"Load issuers error:\", e);\n    }\n  }\n\n  useEffect(() => {\n    loadIssuers();\n  }, []);\n\n  // Lưu hash (với issuer chọn)\n  async function storeHash() {\n    if (!file) return alert(\"Chưa chọn file!\");\n    if (!selectedIssuer) return alert(\"Chưa chọn Issuer!\");\n    try {\n      setLoading(true);\n      const buffer = await file.arrayBuffer();\n      const hash = ethers.sha256(new Uint8Array(buffer));\n\n      const provider = await getProvider();\n      const signer = await provider.getSigner();\n      const verifier = new ethers.Contract(VERIFIER_ADDRESS, verifierAbi.abi, signer);\n\n      const tx = await verifier.storeDocumentWithIssuer(hash, selectedIssuer);\n      setStatus(\"⏳ Đang lưu hash...\");\n      await tx.wait();\n      setStatus(\"✅ Lưu hash thành công!\");\n    } catch (e) {\n      console.error(e);\n      if (e.message.includes(\"Already stored\"))\n        setStatus(\"⚠️ Hash đã tồn tại trên blockchain!\");\n      else setStatus(\"❌ Lỗi khi lưu hash.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Xác minh file\n  async function verifyFile() {\n    if (!file) return alert(\"Chưa chọn file!\");\n    try {\n      setLoading(true);\n      const buffer = await file.arrayBuffer();\n      const hash = ethers.sha256(new Uint8Array(buffer));\n      const provider = await getProvider();\n      const verifier = new ethers.Contract(VERIFIER_ADDRESS, verifierAbi.abi, provider);\n\n      const [exists, issuerAddr, timestamp, name, org] = await verifier.verifyDocument(hash);\n      if (!exists) return setStatus(\"❌ File chưa được lưu trên blockchain.\");\n\n      setStatus(\n        `✅ File hợp lệ!\\nIssuer: ${name} (${org})\\nAddress: ${issuerAddr}\\nTime: ${new Date(\n          Number(timestamp) * 1000\n        ).toLocaleString()}`\n      );\n    } catch (e) {\n      console.error(e);\n      setStatus(\"❌ Lỗi khi xác minh file.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  // Lọc danh sách Issuer theo từ khóa tìm kiếm\n  const filteredIssuers = issuersList.filter(\n    (i) =>\n      i.name.toLowerCase().includes(search.toLowerCase()) ||\n      i.org.toLowerCase().includes(search.toLowerCase()) ||\n      i.email.toLowerCase().includes(search.toLowerCase())\n  );\n\n  return (\n    <div className=\"container\">\n      <h1>🧾 Blockchain Document Verifier</h1>\n      <button onClick={connectWallet} className=\"connect-btn\">\n        {account ? `✅ ${account.slice(0, 6)}...${account.slice(-4)}` : \"🔗 Kết nối MetaMask\"}\n      </button>\n\n      <section>\n        <h2>🏢 Đăng ký Issuer</h2>\n        <input placeholder=\"Tên\" onChange={(e) => setIssuer({ ...issuer, name: e.target.value })} />\n        <input\n          placeholder=\"Tổ chức\"\n          onChange={(e) => setIssuer({ ...issuer, organization: e.target.value })}\n        />\n        <input placeholder=\"Email\" onChange={(e) => setIssuer({ ...issuer, email: e.target.value })} />\n        <button onClick={registerIssuer} disabled={loading}>\n          📝 Đăng ký\n        </button>\n      </section>\n\n      <section>\n        <h2>📁 Xác minh tài liệu</h2>\n        <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} />\n        <div className=\"issuer-select\">\n          <input\n            type=\"text\"\n            placeholder=\"🔍 Tìm Issuer...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n          <select onChange={(e) => setSelectedIssuer(e.target.value)} value={selectedIssuer}>\n            <option value=\"\">-- Chọn Issuer --</option>\n            {filteredIssuers.map((i, idx) => (\n              <option key={idx} value={i.address}>\n                {i.name} ({i.org})\n              </option>\n            ))}\n          </select>\n        </div>\n        <button onClick={storeHash} disabled={loading}>\n          📤 Lưu Hash\n        </button>\n        <button onClick={verifyFile} disabled={loading}>\n          🔍 Xác minh\n        </button>\n      </section>\n\n      <pre className=\"status-box\">{status}</pre>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}